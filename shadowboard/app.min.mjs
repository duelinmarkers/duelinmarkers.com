var a=class{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}},B=class{static fromArray(t,n){let r=n||new at;for(let i=t.length-1;i>=0;--i)r=new Be(t[i],r);return r}[Symbol.iterator](){return new nn(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}};function h(e,t){return new Be(e,t)}function l(e,t){return B.fromArray(e,t)}var nn=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof at)return{done:!0};{let{head:t,tail:n}=this.#e;return this.#e=n,{value:t,done:!1}}}},at=class extends B{},Be=class extends B{constructor(t,n){super(),this.head=t,this.tail=n}},ct=class e{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatFromSlice(t,n,r){return ns(this.buffer,t,n,r)}intFromSlice(t,n,r,i){return ts(this.buffer,t,n,r,i)}binaryFromSlice(t,n){return new e(this.buffer.slice(t,n))}sliceAfter(t){return new e(this.buffer.slice(t))}};function ts(e,t,n,r,i){let s=0;if(r)for(let o=t;o<n;o++)s=s*256+e[o];else for(let o=n-1;o>=t;o--)s=s*256+e[o];if(i){let u=2**((n-t)*8-1);s>=u&&(s-=u*2)}return s}function ns(e,t,n,r){let i=new DataView(e.buffer),s=n-t;if(s===8)return i.getFloat64(t,!r);if(s===4)return i.getFloat32(t,!r);{let o=`Sized floats must be 32-bit or 64-bit on JavaScript, got size of ${s*8} bits`;throw new globalThis.Error(o)}}var ke=class e extends a{static isResult(t){return t instanceof e}},p=class extends ke{constructor(t){super(),this[0]=t}isOk(){return!0}},d=class extends ke{constructor(t){super(),this[0]=t}isOk(){return!1}};function b(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),i=n.pop();if(r===i)continue;if(!fr(r)||!fr(i)||!cs(r,i)||is(r,i)||ss(r,i)||os(r,i)||ls(r,i)||us(r,i)||as(r,i))return!1;let o=Object.getPrototypeOf(r);if(o!==null&&typeof o.equals=="function")try{if(r.equals(i))continue;return!1}catch{}let[u,c]=rs(r);for(let f of u(r))n.push(c(r,f),c(i,f))}return!0}function rs(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function is(e,t){return e instanceof Date&&(e>t||e<t)}function ss(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function os(e,t){return Array.isArray(e)&&e.length!==t.length}function ls(e,t){return e instanceof Map&&e.size!==t.size}function us(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function as(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function fr(e){return typeof e=="object"&&e!==null}function cs(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function Ae(e,t){return t===0?0:e%t}function ve(e,t){return Math.trunc(pr(e,t))}function pr(e,t){return t===0?0:e/t}function Le(e,t,n,r,i,s){let o=new globalThis.Error(i);o.gleam_error=e,o.module=t,o.line=n,o.function=r,o.fn=r;for(let u in s)o[u]=s[u];return o}var P=class extends a{},M=class extends a{},q=class extends a{};function De(e,t,n){return e?t:n()}var _=class extends a{constructor(t){super(),this[0]=t}},k=class extends a{};function dr(e,t){if(e instanceof _){let n=e[0];return new p(n)}else return new d(t)}function _r(e,t){if(e instanceof _){let n=e[0];return new _(t(n))}else return new k}function hr(e){return e instanceof _?e[0]:new k}function ee(){return mr()}function Re(e,t,n){return wr(t,n,e)}function ps(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=h(i,r)}}}function ds(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return ps(r,l([]));{let i=n.head;e=n.tail,t=h(i[0],r)}}}function _s(e){let t=pt(e);return ds(t,l([]))}function rn(e){return _s(e)}function ms(e,t){for(;;){let n=e,r=t;if(n.atLeastLength(1))e=n.tail,t=r+1;else return r}}function yr(e){return ms(e,0)}function xs(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=h(i,r)}}}function D(e){return xs(e,l([]))}function br(e){if(e.hasLength(0))return new d(void 0);{let t=e.head;return new p(t)}}function ws(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return D(s);{let o=r.head,u=r.tail,c=i(o)?h(o,s):s;e=u,t=i,n=c}}}function Ee(e,t){return ws(e,t,l([]))}function gs(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return D(s);{let o=r.head;e=r.tail,t=i,n=h(i(o),s)}}}function v(e,t){return gs(e,t,l([]))}function sn(e,t){for(;;){let n=e,r=t;if(r<=0)return n;if(n.hasLength(0))return l([]);e=n.tail,t=r-1}}function ys(e,t,n){for(;;){let r=e,i=t,s=n;if(i<=0)return D(s);if(r.hasLength(0))return D(s);{let u=r.head;e=r.tail,t=i-1,n=h(u,s)}}}function kr(e,t){return ys(e,t,l([]))}function bs(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=h(i,r)}}}function se(e,t){return bs(D(e),t)}function ks(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=h(i,r)}}}function As(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return D(r);{let i=n.head;e=n.tail,t=ks(i,r)}}}function Ar(e){return As(e,l([]))}function vr(e,t){let n=v(e,t);return Ar(n)}function W(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return i;{let o=r.head;e=r.tail,t=s(i,o),n=s}}}function vs(e,t,n,r){for(;;){let i=e,s=t,o=n,u=r;if(i.hasLength(0))return s;{let c=i.head;e=i.tail,t=o(s,c,u),n=o,r=u+1}}}function on(e,t,n){return vs(e,t,n,0)}function Ls(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new d(void 0);{let i=n.head,s=n.tail,o=r(i);if(o.isOk()){let u=o[0];return new p(u)}else e=s,t=r}}}function Lr(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return!1;{let i=n.head,s=n.tail;if(r(i))return!0;e=s,t=r}}}function ln(e,t){return Ls(e,n=>{let r=n[0],i=n[1];return b(r,t)?new p(i):new d(void 0)})}function Or(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return l([]);{let i=n.head,s=n.tail;if(r(i))e=s,t=r;else return h(i,s)}}}function Se(e,t){if(e.isOk()){let n=e[0];return new p(t(n))}else{let n=e[0];return new d(n)}}function cn(e,t){if(e.isOk()){let n=e[0];return new p(n)}else{let n=e[0];return new d(t(n))}}function dt(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new d(n)}}function jr(e,t){return e.isOk()?e[0]:t}function _t(e){return pn(e)}function He(e){return e}function dn(e){return Fr(e)}function Pr(e){let n=_t(e);return He(n)}function Nr(e,t,n){let i=fn(e),s=sn(i,t),o=kr(s,n);return Pr(o)}function zr(e,t,n){if(n<0)return"";if(t<0){let s=dn(e)+t;return s<0?"":Nr(e,s,n)}else return Nr(e,t,n)}function $t(e,t){return t<0?e:zr(e,t,dn(e)-t)}var Te=class extends a{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}};function _n(e){return mn(e)}function zs(e){return Br(e)}function qr(e){return t=>{if(e.hasLength(0))return new d(l([new Te("another type",_n(t),l([]))]));{let n=e.head,r=e.tail,i=n(t);if(i.isOk()){let s=i[0];return new p(s)}else return qr(r)(t)}}}function Fs(e,t){let n=t,r=qr(l([hn,s=>Se(zs(s),z)])),i=(()=>{let s=r(n);if(s.isOk())return s[0];{let o=l(["<",_n(n),">"]),u=_t(o);return He(u)}})();return e.withFields({path:h(i,e.path)})}function qs(e,t){return cn(e,n=>v(n,t))}function hn(e){return Ir(e)}function $n(e,t){return n=>{let r=new Te("field","nothing",l([]));return dt(Dr(n,e),i=>{let o=dr(i,l([r])),u=dt(o,t);return qs(u,c=>Fs(c,e))})}}var Gr=new WeakMap,xn=new DataView(new ArrayBuffer(8)),wn=0;function gn(e){let t=Gr.get(e);if(t!==void 0)return t;let n=wn++;return wn===2147483647&&(wn=0),Gr.set(e,n),n}function yn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function kn(e){let t=0,n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function Rr(e){xn.setFloat64(0,e);let t=xn.getInt32(0),n=xn.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function Is(e){return kn(e.toString())}function Bs(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return gn(e);if(e instanceof Date)return Rr(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+R(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+R(r)|0});else if(e instanceof Map)e.forEach((r,i)=>{n=n+yn(R(r),R(i))|0});else{let r=Object.keys(e);for(let i=0;i<r.length;i++){let s=r[i],o=e[s];n=n+yn(R(o),kn(s))|0}}return n}function R(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return Rr(e);case"string":return kn(e);case"bigint":return Is(e);case"object":return Bs(e);case"symbol":return gn(e);case"function":return gn(e);default:return 0}}var Z=5,An=Math.pow(2,Z),Ds=An-1,Gs=An/2,Rs=An/4,N=0,Y=1,I=2,ce=3,vn={type:I,bitmap:0,array:[]};function Ue(e,t){return e>>>t&Ds}function wt(e,t){return 1<<Ue(e,t)}function Hs(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Ln(e,t){return Hs(e&t-1)}function H(e,t,n){let r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=e[s];return i[t]=n,i}function Js(e,t,n){let r=e.length,i=new Array(r+1),s=0,o=0;for(;s<t;)i[o++]=e[s++];for(i[o++]=n;s<r;)i[o++]=e[s++];return i}function bn(e,t){let n=e.length,r=new Array(n-1),i=0,s=0;for(;i<t;)r[s++]=e[i++];for(++i;i<n;)r[s++]=e[i++];return r}function Hr(e,t,n,r,i,s){let o=R(t);if(o===r)return{type:ce,hash:o,array:[{type:N,k:t,v:n},{type:N,k:i,v:s}]};let u={val:!1};return We(On(vn,e,o,t,n,u),e,r,i,s,u)}function We(e,t,n,r,i,s){switch(e.type){case Y:return Us(e,t,n,r,i,s);case I:return On(e,t,n,r,i,s);case ce:return Ws(e,t,n,r,i,s)}}function Us(e,t,n,r,i,s){let o=Ue(n,t),u=e.array[o];if(u===void 0)return s.val=!0,{type:Y,size:e.size+1,array:H(e.array,o,{type:N,k:r,v:i})};if(u.type===N)return b(r,u.k)?i===u.v?e:{type:Y,size:e.size,array:H(e.array,o,{type:N,k:r,v:i})}:(s.val=!0,{type:Y,size:e.size,array:H(e.array,o,Hr(t+Z,u.k,u.v,n,r,i))});let c=We(u,t+Z,n,r,i,s);return c===u?e:{type:Y,size:e.size,array:H(e.array,o,c)}}function On(e,t,n,r,i,s){let o=wt(n,t),u=Ln(e.bitmap,o);if(e.bitmap&o){let c=e.array[u];if(c.type!==N){let m=We(c,t+Z,n,r,i,s);return m===c?e:{type:I,bitmap:e.bitmap,array:H(e.array,u,m)}}let f=c.k;return b(r,f)?i===c.v?e:{type:I,bitmap:e.bitmap,array:H(e.array,u,{type:N,k:r,v:i})}:(s.val=!0,{type:I,bitmap:e.bitmap,array:H(e.array,u,Hr(t+Z,f,c.v,n,r,i))})}else{let c=e.array.length;if(c>=Gs){let f=new Array(32),m=Ue(n,t);f[m]=On(vn,t+Z,n,r,i,s);let E=0,L=e.bitmap;for(let K=0;K<32;K++){if(L&1){let F=e.array[E++];f[K]=F}L=L>>>1}return{type:Y,size:c+1,array:f}}else{let f=Js(e.array,u,{type:N,k:r,v:i});return s.val=!0,{type:I,bitmap:e.bitmap|o,array:f}}}}function Ws(e,t,n,r,i,s){if(n===e.hash){let o=En(e,r);if(o!==-1)return e.array[o].v===i?e:{type:ce,hash:n,array:H(e.array,o,{type:N,k:r,v:i})};let u=e.array.length;return s.val=!0,{type:ce,hash:n,array:H(e.array,u,{type:N,k:r,v:i})}}return We({type:I,bitmap:wt(e.hash,t),array:[e]},t,n,r,i,s)}function En(e,t){let n=e.array.length;for(let r=0;r<n;r++)if(b(t,e.array[r].k))return r;return-1}function xt(e,t,n,r){switch(e.type){case Y:return Ks(e,t,n,r);case I:return Vs(e,t,n,r);case ce:return Ys(e,r)}}function Ks(e,t,n,r){let i=Ue(n,t),s=e.array[i];if(s!==void 0){if(s.type!==N)return xt(s,t+Z,n,r);if(b(r,s.k))return s}}function Vs(e,t,n,r){let i=wt(n,t);if(!(e.bitmap&i))return;let s=Ln(e.bitmap,i),o=e.array[s];if(o.type!==N)return xt(o,t+Z,n,r);if(b(r,o.k))return o}function Ys(e,t){let n=En(e,t);if(!(n<0))return e.array[n]}function Sn(e,t,n,r){switch(e.type){case Y:return Zs(e,t,n,r);case I:return Xs(e,t,n,r);case ce:return Qs(e,r)}}function Zs(e,t,n,r){let i=Ue(n,t),s=e.array[i];if(s===void 0)return e;let o;if(s.type===N){if(!b(s.k,r))return e}else if(o=Sn(s,t+Z,n,r),o===s)return e;if(o===void 0){if(e.size<=Rs){let u=e.array,c=new Array(e.size-1),f=0,m=0,E=0;for(;f<i;){let L=u[f];L!==void 0&&(c[m]=L,E|=1<<f,++m),++f}for(++f;f<u.length;){let L=u[f];L!==void 0&&(c[m]=L,E|=1<<f,++m),++f}return{type:I,bitmap:E,array:c}}return{type:Y,size:e.size-1,array:H(e.array,i,o)}}return{type:Y,size:e.size,array:H(e.array,i,o)}}function Xs(e,t,n,r){let i=wt(n,t);if(!(e.bitmap&i))return e;let s=Ln(e.bitmap,i),o=e.array[s];if(o.type!==N){let u=Sn(o,t+Z,n,r);return u===o?e:u!==void 0?{type:I,bitmap:e.bitmap,array:H(e.array,s,u)}:e.bitmap===i?void 0:{type:I,bitmap:e.bitmap^i,array:bn(e.array,s)}}return b(r,o.k)?e.bitmap===i?void 0:{type:I,bitmap:e.bitmap^i,array:bn(e.array,s)}:e}function Qs(e,t){let n=En(e,t);if(n<0)return e;if(e.array.length!==1)return{type:ce,hash:e.hash,array:bn(e.array,n)}}function Jr(e,t){if(e===void 0)return;let n=e.array,r=n.length;for(let i=0;i<r;i++){let s=n[i];if(s!==void 0){if(s.type===N){t(s.v,s.k);continue}Jr(s,t)}}}var fe=class e{static fromObject(t){let n=Object.keys(t),r=e.new();for(let i=0;i<n.length;i++){let s=n[i];r=r.set(s,t[s])}return r}static fromMap(t){let n=e.new();return t.forEach((r,i)=>{n=n.set(i,r)}),n}static new(){return new e(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;let r=xt(this.root,0,R(t),t);return r===void 0?n:r.v}set(t,n){let r={val:!1},i=this.root===void 0?vn:this.root,s=We(i,0,R(t),t,n,r);return s===this.root?this:new e(s,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let n=Sn(this.root,0,R(t),t);return n===this.root?this:n===void 0?e.new():new e(n,this.size-1)}has(t){return this.root===void 0?!1:xt(this.root,0,R(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){Jr(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+yn(R(n),R(r))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=!0;return this.forEach((r,i)=>{n=n&&b(t.get(i,!r),r)}),n}};var eo=void 0,Ur={};function Vr(e){return e.toString()}function Fr(e){if(e==="")return 0;let t=Yr(e);if(t){let n=0;for(let r of t)n++;return n}else return e.match(/./gsu).length}function fn(e){let t=Yr(e);return t?B.fromArray(Array.from(t).map(n=>n.segment)):B.fromArray(e.match(/./gsu))}function Yr(e){if(globalThis.Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function pn(e){let t="";for(let n of e)t=t+n;return t}var Zr=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),Gu=new RegExp(`^([${Zr}]*)`,"g"),Ru=new RegExp(`([${Zr}]*)$`,"g");function mr(){return fe.new()}function pt(e){return B.fromArray(e.entries())}function xr(e,t){let n=e.get(t,Ur);return n===Ur?new d(eo):new p(n)}function wr(e,t,n){return n.set(e,t)}function mn(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof ke)return"Result";if(e instanceof B)return"List";if(e instanceof ct)return"BitArray";if(e instanceof fe)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function Tn(e,t){return to(e,mn(t))}function to(e,t){return new d(B.fromArray([new Te(e,t,B.fromArray([]))]))}function Ir(e){return typeof e=="string"?new p(e):Tn("String",e)}function Br(e){return Number.isInteger(e)?new p(e):Tn("Int",e)}function Dr(e,t){let n=()=>Tn("Dict",e);if(e instanceof fe||e instanceof WeakMap||e instanceof Map){let r=xr(e,t);return new p(r.isOk()?new _(r[0]):new k)}else return e===null?n():Object.getPrototypeOf(e)==Object.prototype?Wr(e,t,()=>new p(new k)):Wr(e,t,n)}function Wr(e,t,n){try{return t in e?new p(new _(e[t])):n()}catch{return n()}}function mt(e){return e>=0?e:e*-1}function z(e){return Vr(e)}function pe(e,t){return e>t?e:t}function jn(e,t){return e+t}var je=class extends a{constructor(t){super(),this[0]=t}},de=class extends a{},_e=class extends a{},re=class extends a{},he=class extends a{},$e=class extends a{},me=class extends a{},Ke=class extends a{},xe=class extends a{},we=class extends a{};function ne(e,t){return[ve(e,t),Ae(e,t)]}var ei=1e3;var Mn=1e6;function ti(e){return new je(e*Mn)}var ni=6e7;var Nn=36e8;function ri(e){return new je(e*Nn)}var ii=864e8;var si=6048e8;var oi=2592e9;var li=31536e9;function Pn(e){let t=e[0],n=mt(t),r=ne(n,li),i=r[0],s=r[1],o=ne(s,oi),u=o[0],c=o[1],f=ne(c,si),m=f[0],E=f[1],L=ne(E,ii),K=L[0],F=L[1],Fe=ne(F,Nn),lt=Fe[0],ut=Fe[1],be=ne(ut,ni),x=be[0],y=be[1],S=ne(y,Mn),U=S[0],qe=S[1],cr=ne(qe,ei),Zi=cr[0],Xi=cr[1],Qi=l([[i,new we],[u,new xe],[m,new Ke],[K,new me],[lt,new $e],[x,new he],[U,new re],[Zi,new _e],[Xi,new de]]),es=Ee(Qi,Ie=>Ie[0]>0);return v(es,Ie=>t<0?[-1*Ie[0],Ie[1]]:Ie)}var ao=l([[new we,li],[new xe,oi],[new Ke,si],[new me,ii],[new $e,Nn],[new he,ni],[new re,Mn],[new _e,ei],[new de,1]]);function ui(e,t){let n=ln(ao,t);if(!n.isOk())throw Le("let_assert","birl/duration",207,"blur_to","Pattern match failed, no pattern matched the value.",{value:n});let r=n[0],i=e[0],s=ne(i,r),o=s[0];return s[1]>=ve(r*2,3)?o+1:o}var ai=l([["Africa/Abidjan",0],["Africa/Algiers",3600],["Africa/Bissau",0],["Africa/Cairo",7200],["Africa/Casablanca",3600],["Africa/Ceuta",3600],["Africa/El_Aaiun",3600],["Africa/Johannesburg",7200],["Africa/Juba",7200],["Africa/Khartoum",7200],["Africa/Lagos",3600],["Africa/Maputo",7200],["Africa/Monrovia",0],["Africa/Nairobi",10800],["Africa/Ndjamena",3600],["Africa/Sao_Tome",0],["Africa/Tripoli",7200],["Africa/Tunis",3600],["Africa/Windhoek",7200],["America/Adak",-36e3],["America/Anchorage",-32400],["America/Araguaina",-10800],["America/Argentina/Buenos_Aires",-10800],["America/Argentina/Catamarca",-10800],["America/Argentina/Cordoba",-10800],["America/Argentina/Jujuy",-10800],["America/Argentina/La_Rioja",-10800],["America/Argentina/Mendoza",-10800],["America/Argentina/Rio_Gallegos",-10800],["America/Argentina/Salta",-10800],["America/Argentina/San_Juan",-10800],["America/Argentina/San_Luis",-10800],["America/Argentina/Tucuman",-10800],["America/Argentina/Ushuaia",-10800],["America/Asuncion",-14400],["America/Bahia",-10800],["America/Bahia_Banderas",-21600],["America/Barbados",-14400],["America/Belem",-10800],["America/Belize",-21600],["America/Boa_Vista",-14400],["America/Bogota",-18e3],["America/Boise",-25200],["America/Cambridge_Bay",-25200],["America/Campo_Grande",-14400],["America/Cancun",-18e3],["America/Caracas",-14400],["America/Cayenne",-10800],["America/Chicago",-21600],["America/Chihuahua",-21600],["America/Ciudad_Juarez",-25200],["America/Costa_Rica",-21600],["America/Cuiaba",-14400],["America/Danmarkshavn",0],["America/Dawson",-25200],["America/Dawson_Creek",-25200],["America/Denver",-25200],["America/Detroit",-18e3],["America/Edmonton",-25200],["America/Eirunepe",-18e3],["America/El_Salvador",-21600],["America/Fort_Nelson",-25200],["America/Fortaleza",-10800],["America/Glace_Bay",-14400],["America/Goose_Bay",-14400],["America/Grand_Turk",-18e3],["America/Guatemala",-21600],["America/Guayaquil",-18e3],["America/Guyana",-14400],["America/Halifax",-14400],["America/Havana",-18e3],["America/Hermosillo",-25200],["America/Indiana/Indianapolis",-18e3],["America/Indiana/Knox",-21600],["America/Indiana/Marengo",-18e3],["America/Indiana/Petersburg",-18e3],["America/Indiana/Tell_City",-21600],["America/Indiana/Vevay",-18e3],["America/Indiana/Vincennes",-18e3],["America/Indiana/Winamac",-18e3],["America/Inuvik",-25200],["America/Iqaluit",-18e3],["America/Jamaica",-18e3],["America/Juneau",-32400],["America/Kentucky/Louisville",-18e3],["America/Kentucky/Monticello",-18e3],["America/La_Paz",-14400],["America/Lima",-18e3],["America/Los_Angeles",-28800],["America/Maceio",-10800],["America/Managua",-21600],["America/Manaus",-14400],["America/Martinique",-14400],["America/Matamoros",-21600],["America/Mazatlan",-25200],["America/Menominee",-21600],["America/Merida",-21600],["America/Metlakatla",-32400],["America/Mexico_City",-21600],["America/Miquelon",-10800],["America/Moncton",-14400],["America/Monterrey",-21600],["America/Montevideo",-10800],["America/New_York",-18e3],["America/Nome",-32400],["America/Noronha",-7200],["America/North_Dakota/Beulah",-21600],["America/North_Dakota/Center",-21600],["America/North_Dakota/New_Salem",-21600],["America/Nuuk",-7200],["America/Ojinaga",-21600],["America/Panama",-18e3],["America/Paramaribo",-10800],["America/Phoenix",-25200],["America/Port-au-Prince",-18e3],["America/Porto_Velho",-14400],["America/Puerto_Rico",-14400],["America/Punta_Arenas",-10800],["America/Rankin_Inlet",-21600],["America/Recife",-10800],["America/Regina",-21600],["America/Resolute",-21600],["America/Rio_Branco",-18e3],["America/Santarem",-10800],["America/Santiago",-14400],["America/Santo_Domingo",-14400],["America/Sao_Paulo",-10800],["America/Scoresbysund",-7200],["America/Sitka",-32400],["America/St_Johns",-12600],["America/Swift_Current",-21600],["America/Tegucigalpa",-21600],["America/Thule",-14400],["America/Tijuana",-28800],["America/Toronto",-18e3],["America/Vancouver",-28800],["America/Whitehorse",-25200],["America/Winnipeg",-21600],["America/Yakutat",-32400],["Antarctica/Casey",28800],["Antarctica/Davis",25200],["Antarctica/Macquarie",36e3],["Antarctica/Mawson",18e3],["Antarctica/Palmer",-10800],["Antarctica/Rothera",-10800],["Antarctica/Troll",0],["Antarctica/Vostok",18e3],["Asia/Almaty",18e3],["Asia/Amman",10800],["Asia/Anadyr",43200],["Asia/Aqtau",18e3],["Asia/Aqtobe",18e3],["Asia/Ashgabat",18e3],["Asia/Atyrau",18e3],["Asia/Baghdad",10800],["Asia/Baku",14400],["Asia/Bangkok",25200],["Asia/Barnaul",25200],["Asia/Beirut",7200],["Asia/Bishkek",21600],["Asia/Chita",32400],["Asia/Choibalsan",28800],["Asia/Colombo",19800],["Asia/Damascus",10800],["Asia/Dhaka",21600],["Asia/Dili",32400],["Asia/Dubai",14400],["Asia/Dushanbe",18e3],["Asia/Famagusta",7200],["Asia/Gaza",7200],["Asia/Hebron",7200],["Asia/Ho_Chi_Minh",25200],["Asia/Hong_Kong",28800],["Asia/Hovd",25200],["Asia/Irkutsk",28800],["Asia/Jakarta",25200],["Asia/Jayapura",32400],["Asia/Jerusalem",7200],["Asia/Kabul",16200],["Asia/Kamchatka",43200],["Asia/Karachi",18e3],["Asia/Kathmandu",20700],["Asia/Khandyga",32400],["Asia/Kolkata",19800],["Asia/Krasnoyarsk",25200],["Asia/Kuching",28800],["Asia/Macau",28800],["Asia/Magadan",39600],["Asia/Makassar",28800],["Asia/Manila",28800],["Asia/Nicosia",7200],["Asia/Novokuznetsk",25200],["Asia/Novosibirsk",25200],["Asia/Omsk",21600],["Asia/Oral",18e3],["Asia/Pontianak",25200],["Asia/Pyongyang",32400],["Asia/Qatar",10800],["Asia/Qostanay",18e3],["Asia/Qyzylorda",18e3],["Asia/Riyadh",10800],["Asia/Sakhalin",39600],["Asia/Samarkand",18e3],["Asia/Seoul",32400],["Asia/Shanghai",28800],["Asia/Singapore",28800],["Asia/Srednekolymsk",39600],["Asia/Taipei",28800],["Asia/Tashkent",18e3],["Asia/Tbilisi",14400],["Asia/Tehran",12600],["Asia/Thimphu",21600],["Asia/Tokyo",32400],["Asia/Tomsk",25200],["Asia/Ulaanbaatar",28800],["Asia/Urumqi",21600],["Asia/Ust-Nera",36e3],["Asia/Vladivostok",36e3],["Asia/Yakutsk",32400],["Asia/Yangon",23400],["Asia/Yekaterinburg",18e3],["Asia/Yerevan",14400],["Atlantic/Azores",-3600],["Atlantic/Bermuda",-14400],["Atlantic/Canary",0],["Atlantic/Cape_Verde",-3600],["Atlantic/Faroe",0],["Atlantic/Madeira",0],["Atlantic/South_Georgia",-7200],["Atlantic/Stanley",-10800],["Australia/Adelaide",34200],["Australia/Brisbane",36e3],["Australia/Broken_Hill",34200],["Australia/Darwin",34200],["Australia/Eucla",31500],["Australia/Hobart",36e3],["Australia/Lindeman",36e3],["Australia/Lord_Howe",37800],["Australia/Melbourne",36e3],["Australia/Perth",28800],["Australia/Sydney",36e3],["CET",3600],["CST6CDT",-21600],["EET",7200],["EST",-18e3],["EST5EDT",-18e3],["Etc/GMT",0],["Etc/GMT+1",-3600],["Etc/GMT+10",-36e3],["Etc/GMT+11",-39600],["Etc/GMT+12",-43200],["Etc/GMT+2",-7200],["Etc/GMT+3",-10800],["Etc/GMT+4",-14400],["Etc/GMT+5",-18e3],["Etc/GMT+6",-21600],["Etc/GMT+7",-25200],["Etc/GMT+8",-28800],["Etc/GMT+9",-32400],["Etc/GMT-1",3600],["Etc/GMT-10",36e3],["Etc/GMT-11",39600],["Etc/GMT-12",43200],["Etc/GMT-13",46800],["Etc/GMT-14",50400],["Etc/GMT-2",7200],["Etc/GMT-3",10800],["Etc/GMT-4",14400],["Etc/GMT-5",18e3],["Etc/GMT-6",21600],["Etc/GMT-7",25200],["Etc/GMT-8",28800],["Etc/GMT-9",32400],["Etc/UTC",0],["Europe/Andorra",3600],["Europe/Astrakhan",14400],["Europe/Athens",7200],["Europe/Belgrade",3600],["Europe/Berlin",3600],["Europe/Brussels",3600],["Europe/Bucharest",7200],["Europe/Budapest",3600],["Europe/Chisinau",7200],["Europe/Dublin",3600],["Europe/Gibraltar",3600],["Europe/Helsinki",7200],["Europe/Istanbul",10800],["Europe/Kaliningrad",7200],["Europe/Kirov",10800],["Europe/Kyiv",7200],["Europe/Lisbon",0],["Europe/London",0],["Europe/Madrid",3600],["Europe/Malta",3600],["Europe/Minsk",10800],["Europe/Moscow",10800],["Europe/Paris",3600],["Europe/Prague",3600],["Europe/Riga",7200],["Europe/Rome",3600],["Europe/Samara",14400],["Europe/Saratov",14400],["Europe/Simferopol",10800],["Europe/Sofia",7200],["Europe/Tallinn",7200],["Europe/Tirane",3600],["Europe/Ulyanovsk",14400],["Europe/Vienna",3600],["Europe/Vilnius",7200],["Europe/Volgograd",10800],["Europe/Warsaw",3600],["Europe/Zurich",3600],["HST",-36e3],["Indian/Chagos",21600],["Indian/Maldives",18e3],["Indian/Mauritius",14400],["MET",3600],["MST",-25200],["MST7MDT",-25200],["PST8PDT",-28800],["Pacific/Apia",46800],["Pacific/Auckland",43200],["Pacific/Bougainville",39600],["Pacific/Chatham",45900],["Pacific/Easter",-21600],["Pacific/Efate",39600],["Pacific/Fakaofo",46800],["Pacific/Fiji",43200],["Pacific/Galapagos",-21600],["Pacific/Gambier",-32400],["Pacific/Guadalcanal",39600],["Pacific/Guam",36e3],["Pacific/Honolulu",-36e3],["Pacific/Kanton",46800],["Pacific/Kiritimati",50400],["Pacific/Kosrae",39600],["Pacific/Kwajalein",43200],["Pacific/Marquesas",-34200],["Pacific/Nauru",43200],["Pacific/Niue",-39600],["Pacific/Norfolk",39600],["Pacific/Noumea",39600],["Pacific/Pago_Pago",-39600],["Pacific/Palau",32400],["Pacific/Pitcairn",-28800],["Pacific/Port_Moresby",36e3],["Pacific/Rarotonga",-36e3],["Pacific/Tahiti",-36e3],["Pacific/Tarawa",43200],["Pacific/Tongatapu",46800],["WET",0]]);function ci(){return Date.now()*1e3}function fi(){return-new Date().getTimezoneOffset()}function pi(){return new _(Intl.DateTimeFormat().resolvedOptions().timeZone)}function di(){return Math.floor(globalThis.performance.now()*1e3)}var Ve=class extends a{constructor(t,n,r,i){super(),this.wall_time=t,this.offset=n,this.timezone=r,this.monotonic_time=i}};function $i(e,t){let n=e.wall_time,r=e.monotonic_time,i=t.wall_time,s=t.monotonic_time,o=(()=>{if(r instanceof _&&s instanceof _){let E=r[0],L=s[0];return[E,L]}else return[n,i]})(),u=o[0],c=o[1],f=u===c,m=u<c;return f?new M:m?new P:new q}function Fn(e,t){let n=e.wall_time,r=e.monotonic_time,i=t.wall_time,s=t.monotonic_time,o=(()=>{if(r instanceof _&&s instanceof _){let f=r[0],m=s[0];return[f,m]}else return[n,i]})(),u=o[0],c=o[1];return new je(u-c)}function mi(e,t){let n=e.wall_time,r=e.offset,i=e.timezone,s=e.monotonic_time,o=t[0];if(s instanceof _){let u=s[0];return new Ve(n+o,r,i,new _(u+o))}else return new Ve(n+o,r,i,new k)}function gt(){let e=ci(),t=fi(),n=di(),r=pi();return new Ve(e,t*6e7,(()=>{let i=_r(r,s=>Lr(ai,u=>u[0]===s)?new _(s):new k);return hr(i)})(),new _(n))}var yt=class extends a{constructor(t){super(),this.all=t}};function _o(e){return new yt(l([t=>e(t.dispatch,t.emit,t.select)]))}function gi(e){return _o((t,n,r)=>e(t))}function A(){return new yt(l([]))}var Ce=class extends a{constructor(t){super(),this.content=t}},O=class extends a{constructor(t,n,r,i,s,o,u){super(),this.key=t,this.namespace=n,this.tag=r,this.attrs=i,this.children=s,this.self_closing=o,this.void=u}},Ye=class extends a{constructor(t){super(),this.subtree=t}};var Me=class extends a{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}},Ze=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}};function wo(e){if(e instanceof Me)return new d(void 0);{let t=e[0],n=e[1],r=$t(t,2);return new p([r,n])}}function yi(e,t,n){return on(e,t,(r,i,s)=>{let o=n+"-"+z(s);return bi(i,r,o)})}function bi(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof Ce)return i;if(r instanceof Ye){let o=r.subtree;e=o(),t=i,n=s}else if(r instanceof O){let o=r.attrs,u=r.children,c=W(o,i,(f,m)=>{let E=wo(m);if(E.isOk()){let L=E[0][0],K=E[0][1];return Re(f,s+"-"+L,K)}else return f});return yi(u,c,s)}else{let o=r.elements;return yi(o,i,s)}}}function ki(e){return bi(e,ee(),"0")}function ge(e,t){return new Me(e,t,!1)}function vi(e,t){return new Ze("on"+e,t)}function Li(e){return ge("style",W(e,"",(t,n)=>{let r=n[0],i=n[1];return t+r+":"+i+";"}))}function w(e){return ge("class",e)}function J(e){return ge("id",e)}function le(e){return ge("title",e)}function Oi(e){return ge("type",e)}function Ei(e){return ge("value",e)}function Bn(e){return ge("href",e)}function Ne(e,t,n){return e==="area"?new O("","",e,t,l([]),!1,!0):e==="base"?new O("","",e,t,l([]),!1,!0):e==="br"?new O("","",e,t,l([]),!1,!0):e==="col"?new O("","",e,t,l([]),!1,!0):e==="embed"?new O("","",e,t,l([]),!1,!0):e==="hr"?new O("","",e,t,l([]),!1,!0):e==="img"?new O("","",e,t,l([]),!1,!0):e==="input"?new O("","",e,t,l([]),!1,!0):e==="link"?new O("","",e,t,l([]),!1,!0):e==="meta"?new O("","",e,t,l([]),!1,!0):e==="param"?new O("","",e,t,l([]),!1,!0):e==="source"?new O("","",e,t,l([]),!1,!0):e==="track"?new O("","",e,t,l([]),!1,!0):e==="wbr"?new O("","",e,t,l([]),!1,!0):new O("","",e,t,n,!1,!1)}function Si(e){return new Ce(e)}var Gn=class extends a{constructor(t){super(),this.dict=t}};function Ti(){return new Gn(ee())}var bt=class extends a{constructor(t){super(),this[0]=t}},kt=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}},At=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}};function ji(e){return b(e.created,ee())&&b(e.removed,Ti())&&b(e.updated,ee())}var vt=class extends a{constructor(t){super(),this[0]=t}},Lt=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}},Xe=class extends a{constructor(t){super(),this[0]=t}},X=class extends a{constructor(t){super(),this[0]=t}},Qe=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}},Ot=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}};var et=class extends a{},Et=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}},St=class extends a{constructor(t){super(),this[0]=t}},Tt=class extends a{constructor(t){super(),this[0]=t}};function Rn(e,t,n){let r,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:s,next:o,parent:u}=i.pop();for(;o.subtree!==void 0;)o=o.subtree();if(o.content!==void 0)if(s)if(s.nodeType===Node.TEXT_NODE)s.textContent!==o.content&&(s.textContent=o.content),r??=s;else{let c=document.createTextNode(o.content);u.replaceChild(c,s),r??=c}else{let c=document.createTextNode(o.content);u.appendChild(c),r??=c}else if(o.tag!==void 0){let c=Oo({prev:s,next:o,dispatch:n,stack:i});s?s!==c&&u.replaceChild(c,s):u.appendChild(c),r??=c}else if(o.elements!==void 0)for(let c of Ct(o))i.unshift({prev:s,next:c,parent:u}),s=s?.nextSibling}return r}function Oo({prev:e,next:t,dispatch:n,stack:r}){let i=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),o=s?e:i?document.createElementNS(i,t.tag):document.createElement(t.tag),u;if(tt.has(o))u=tt.get(o);else{let x=new Map;tt.set(o,x),u=x}let c=s?new Set(u.keys()):null,f=s?new Set(Array.from(e.attributes,x=>x.name)):null,m=null,E=null,L=null;if(s&&t.tag==="textarea"){let x=t.children[Symbol.iterator]().next().value?.content;x!==void 0&&(o.value=x)}let K=[];for(let x of t.attrs){let y=x[0],S=x[1];if(x.as_property)o[y]!==S&&(o[y]=S),s&&f.delete(y);else if(y.startsWith("on")){let U=y.slice(2),qe=n(S,U==="input");u.has(U)||o.addEventListener(U,nt),u.set(U,qe),s&&c.delete(U)}else if(y.startsWith("data-lustre-on-")){let U=y.slice(15),qe=n(Eo);u.has(U)||o.addEventListener(U,nt),u.set(U,qe),o.setAttribute(y,S)}else y.startsWith("delegate:data-")||y.startsWith("delegate:aria-")?(o.setAttribute(y,S),K.push([y.slice(10),S])):y==="class"?m=m===null?S:m+" "+S:y==="style"?E=E===null?S:E+S:y==="dangerous-unescaped-html"?L=S:(o.getAttribute(y)!==S&&o.setAttribute(y,S),(y==="value"||y==="selected")&&(o[y]=S),s&&f.delete(y))}if(m!==null&&(o.setAttribute("class",m),s&&f.delete("class")),E!==null&&(o.setAttribute("style",E),s&&f.delete("style")),s){for(let x of f)o.removeAttribute(x);for(let x of c)u.delete(x),o.removeEventListener(x,nt)}if(t.tag==="slot"&&window.queueMicrotask(()=>{for(let x of o.assignedElements())for(let[y,S]of K)x.hasAttribute(y)||x.setAttribute(y,S)}),t.key!==void 0&&t.key!=="")o.setAttribute("data-lustre-key",t.key);else if(L!==null)return o.innerHTML=L,o;let F=o.firstChild,Fe=null,lt=null,ut=null,be=jt(t).next().value;if(s&&be!==void 0&&be.key!==void 0&&be.key!==""){Fe=new Set,lt=Ci(e),ut=Ci(t);for(let x of jt(t))F=So(F,x,o,r,ut,lt,Fe)}else for(let x of jt(t))r.unshift({prev:F,next:x,parent:o}),F=F?.nextSibling;for(;F;){let x=F.nextSibling;o.removeChild(F),F=x}return o}var tt=new WeakMap;function nt(e){let t=e.currentTarget;if(!tt.has(t)){t.removeEventListener(e.type,nt);return}let n=tt.get(t);if(!n.has(e.type)){t.removeEventListener(e.type,nt);return}n.get(e.type)(e)}function Eo(e){let t=e.currentTarget,n=t.getAttribute(`data-lustre-on-${e.type}`),r=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),i=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":i.push("target.value");break}return{tag:n,data:i.reduce((s,o)=>{let u=o.split(".");for(let c=0,f=s,m=e;c<u.length;c++)c===u.length-1?f[u[c]]=m[u[c]]:(f[u[c]]??={},m=m[u[c]],f=f[u[c]]);return s},{data:r})}}function Ci(e){let t=new Map;if(e)for(let n of jt(e)){let r=n?.key||n?.getAttribute?.("data-lustre-key");r&&t.set(r,n)}return t}function So(e,t,n,r,i,s,o){for(;e&&!i.has(e.getAttribute("data-lustre-key"));){let c=e.nextSibling;n.removeChild(e),e=c}if(s.size===0)return r.unshift({prev:e,next:t,parent:n}),e=e?.nextSibling,e;if(o.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),r.unshift({prev:null,next:t,parent:n}),e;o.add(t.key);let u=s.get(t.key);if(!u&&!e)return r.unshift({prev:null,next:t,parent:n}),e;if(!u&&e!==null){let c=document.createTextNode("");return n.insertBefore(c,e),r.unshift({prev:c,next:t,parent:n}),e}return!u||u===e?(r.unshift({prev:e,next:t,parent:n}),e=e?.nextSibling,e):(n.insertBefore(u,e),r.unshift({prev:u,next:t,parent:n}),e)}function*jt(e){for(let t of e.children)yield*Ct(t)}function*Ct(e){if(e.elements!==void 0)for(let t of e.elements)yield*Ct(t);else e.subtree!==void 0?yield*Ct(e.subtree()):yield e}var Hn=class e{static start({init:t,update:n,view:r},i,s){if(!Un())return new d(new rt);let o=i instanceof HTMLElement?i:document.querySelector(i);if(!o)return new d(new Mt(i));let u=new e(o,t(s),n,r);return new p(c=>u.send(c))}constructor(t,[n,r],i,s){this.root=t,this.#e=n,this.#s=i,this.#n=s,this.#t=window.requestAnimationFrame(()=>this.#r(r.all.toArray(),!0))}root;send(t){if(t instanceof Xe){if(t[0]instanceof Tt){this.#t=window.cancelAnimationFrame(this.#t),this.#i=[],this.#e=t[0][0];let n=this.#n(this.#e),r=(s,o=!1)=>u=>{let c=s(u);c instanceof p&&this.send(new X(c[0],o))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));Rn(i,n,r)}}else if(t instanceof X){let n=t[0],r=t[1]??!1;this.#i.push(n),r?(this.#t=window.cancelAnimationFrame(this.#t),this.#r()):this.#t||(this.#t=window.requestAnimationFrame(()=>this.#r()))}else if(t instanceof Qe){let n=t[0],r=t[1];this.root.dispatchEvent(new CustomEvent(n,{detail:r,bubbles:!0,composed:!0}))}else if(t instanceof et)for(this.#t=window.cancelAnimationFrame(this.#t),this.#e=null,this.#s=null,this.#n=null,this.#i=null;this.root.firstChild;)this.root.firstChild.remove()}#e;#s;#n;#i=[];#t;#r(t=[],n=!1){if(this.#t=void 0,!this.#o(t,n))return;let r=this.#n(this.#e),i=(o,u=!1)=>c=>{let f=o(c);f instanceof p&&this.send(new X(f[0],u))},s=this.root.firstChild??this.root.appendChild(document.createTextNode(""));Rn(s,r,i)}#o(t=[],n=!1){for(;this.#i.length>0;){let r=this.#i.shift(),[i,s]=this.#s(this.#e,r);n||=this.#e!==i,t=t.concat(s.all.toArray()),this.#e=i}for(;t.length>0;)t.shift()({dispatch:u=>this.send(new X(u)),emit:(u,c)=>this.root.dispatchEvent(new CustomEvent(u,{detail:c,bubbles:!0,composed:!0})),select:()=>{}});return this.#i.length>0?this.#o(t,n):n}},Mi=Hn.start;var Jn=class e{static start({init:t,update:n,view:r,on_attribute_change:i},s){let o=new e(t(s),n,r,i);return new p(u=>o.send(u))}constructor([t,n],r,i,s){this.#e=t,this.#s=r,this.#i=i,this.#t=i(t),this.#u=s,this.#r=new Map,this.#o=ki(this.#t),this.#l(n.all.toArray())}send(t){if(t instanceof vt){for(let n of t[0]){let r=this.#u.get(n[0]);if(!r)continue;let i=r(n[1]);i instanceof d||this.#n.push(i)}this.#l()}else if(t instanceof Lt)this.#n=this.#n.concat(t[0].toArray()),this.#l(t[1].all.toArray());else if(!(t instanceof Xe))if(t instanceof X)this.#n.push(t[0]),this.#l();else if(t instanceof Qe){let n=new kt(t[0],t[1]);for(let[r,i]of this.#r)i(n)}else if(t instanceof Ot){let n=this.#o.get(t[0]);if(!n)return;let r=n(t[1]);if(r instanceof d)return;this.#n.push(r[0]),this.#l()}else if(t instanceof Et){let n=rn(this.#u),r=new At(n,this.#t);this.#r=this.#r.set(t[0],t[1]),t[1](r)}else t instanceof St&&(this.#r=this.#r.delete(t[0]))}#e;#s;#n;#i;#t;#r;#o;#u;#l(t=[]){if(!this.#a(!1,t))return;let n=this.#i(this.#e),r=elements(this.#t,n);if(!ji(r)){let i=new bt(r);for(let[s,o]of this.#r)o(i)}this.#t=n,this.#o=r.handlers}#a(t=!1,n=[]){for(;this.#n.length>0;){let r=this.#n.shift(),[i,s]=this.#s(this.#e,r);t||=this.#e!==i,n=n.concat(s.all.toArray()),this.#e=i}for(;n.length>0;)n.shift()({dispatch:u=>this.send(new X(u)),emit:(u,c)=>this.root.dispatchEvent(new CustomEvent(u,{detail:c,bubbles:!0,composed:!0})),select:()=>{}});return this.#n.length>0?this.#a(t,n):t}},To=Jn.start,Un=()=>globalThis.window&&window.document;var Wn=class extends a{constructor(t,n,r,i){super(),this.init=t,this.update=n,this.view=r,this.on_attribute_change=i}};var Mt=class extends a{constructor(t){super(),this.selector=t}},rt=class extends a{};function Ni(e,t,n){return new Wn(e,t,n,new k)}function Pi(e,t,n){return De(!Un(),new d(new rt),()=>Mi(e,t,n))}function $(e){return Si(e)}function g(e,t){return Ne("div",e,t)}function Kn(e,t){return Ne("a",e,t)}function j(e,t){return Ne("button",e,t)}function zi(e){return Ne("input",e,l([]))}function Fi(e,t){return vi(e,t)}function T(e){return Fi("click",t=>new p(e))}function Mo(e){let t=e;return $n("target",$n("value",hn))(t)}function qi(e){return Fi("input",t=>{let n=Mo(t);return Se(n,e)})}function Vn(e,t){return globalThis.setTimeout(t,e)}var Yn=class extends a{constructor(t,n,r,i){super(),this.id=t,this.name=n,this.rounds_total=r,this.rounds_remaining=i}};function Zn(e,t,n){return new Yn(e,t,n,n)}function it(e){return e.withFields({rounds_remaining:pe(0,e.rounds_remaining-1)})}function Ii(e){return e.rounds_remaining===0?e.withFields({rounds_remaining:e.rounds_total}):e.withFields({rounds_remaining:pe(0,e.rounds_remaining-1)})}function Xn(e){let t=e.rounds_remaining+1;return e.withFields({rounds_total:pe(e.rounds_total,t),rounds_remaining:t})}function Bi(e){return e.rounds_remaining}function Di(e){return e.rounds_total}function Gi(e){return e.rounds_remaining<=0}var Pe=class extends a{constructor(t,n,r){super(),this.name=t,this.expires_at=n,this.last_tick=r}},Q=class extends a{constructor(t,n,r){super(),this.name=t,this.expired_at=n,this.last_tick=r}},er=class extends a{constructor(t,n,r){super(),this.name=t,this.remaining=n,this.last_tick=r}};function Ri(e,t){let n=gt();return new Pe(e,mi(n,t),n)}function Hi(e,t){if(t instanceof Pe){let n=t.name,r=t.expires_at,i=$i(e,r);return i instanceof P?new Pe(n,r,e):i instanceof M?new Q(n,e,e):new Q(n,r,e)}else if(t instanceof Q){let n=t.name,r=t.expired_at;return new Q(n,r,e)}else{let n=t.name,r=t.remaining;return new er(n,r,e)}}function tr(e){return e instanceof Q}function Fo(e){return z(e[0])+(()=>{let t=e[1];return t instanceof re?"s":t instanceof he?"m":t instanceof $e?"h":t instanceof me?"d":t instanceof xe?"mo":t instanceof we?"y":t instanceof de?"us":t instanceof _e?"ms":"w"})()}function Qn(e){let n=ui(e,new re),r=ti(n),i=Pn(r),s=br(i),o=jr(s,[0,new re]);return Fo(o)}function Ji(e){if(e instanceof Pe){let t=e.expires_at,n=e.last_tick,r=Fn(t,n);return Qn(r)}else if(e instanceof Q){let t=e.expired_at,n=e.last_tick;return"Expired "+(()=>{let r=Fn(n,t);return Qn(r)})()+" ago"}else{let t=e.remaining;return"Paused "+Qn(t)}}var or=class extends a{constructor(t,n,r,i,s,o){super(),this.id=t,this.name=n,this.focusing=r,this.light_bearer=i,this.dying=s,this.round_timers=o}},ze=class extends a{constructor(t){super(),this.player=t}},ue=class extends a{},lr=class extends a{constructor(t,n,r,i,s,o,u){super(),this.light_timer=t,this.players=n,this.editing=r,this.turn=i,this.gm_round_timers=s,this.risk_level=o,this.random_encounter_timer=u}},ye=class extends a{},st=class extends a{},ur=class extends a{},zt=class extends a{constructor(t){super(),this[0]=t}},Ft=class extends a{},qt=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}},It=class extends a{constructor(t){super(),this[0]=t}},Bt=class extends a{},Dt=class extends a{constructor(t){super(),this[0]=t}},Gt=class extends a{},Rt=class extends a{constructor(t){super(),this[0]=t}},Ht=class extends a{constructor(t){super(),this[0]=t}},Jt=class extends a{constructor(t){super(),this[0]=t}},ot=class extends a{},Ut=class extends a{},Wt=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}},Kt=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}},Vt=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}},Yt=class extends a{constructor(t,n){super(),this[0]=t,this[1]=n}},Zt=class extends a{constructor(t){super(),this[0]=t}},Xt=class extends a{constructor(t){super(),this[0]=t}},Qt=class extends a{constructor(t){super(),this[0]=t}},en=class extends a{constructor(t){super(),this[0]=t}},ar=class extends a{constructor(t){super(),this[0]=t}},tn=class extends a{constructor(t,n,r,i){super(),this.add=t,this.inc=n,this.dec=r,this.remove=i}};function Io(e){return new or((()=>{let t=e.players,n=v(t,i=>i.id),r=W(n,0,pe);return jn(r,1)})(),"Player "+z(yr(e.players)+1),!1,!1,!1,l([]))}function Pt(e){let t=se(e.players,l([Io(e)]));return e.withFields({players:t})}function nr(){return Ri("Light",ri(1))}function Ui(e,t){return Zn((()=>{let n=e.players,r=vr(n,u=>u.round_timers),i=se(r,e.gm_round_timers),s=v(i,u=>u.id),o=W(s,0,pe);return jn(o,1)})(),"Timer",t)}function Ki(e){return Zn(0,"Random Encounter",e instanceof ye?2:e instanceof st?1:0)}function Bo(e){return[(()=>{let n=new lr(new k,l([]),!0,new ue,l([]),new ye,Ki(new ye)),r=Pt(n),i=Pt(r);return Pt(i)})(),A()]}function ie(e,t){return t.withFields({players:v(t.players,n=>n.id===e.id?e:n)})}function Nt(e,t){return v(e,n=>n.id===t.id?t:n)}function rr(){return gi(e=>{Vn(250,()=>{e(new zt(gt()))})})}function Do(e,t){if(t instanceof zt){let n=t[0],r=e.light_timer;if(r instanceof k)return[e,A()];{let i=r[0],s=Hi(n,i);return[e.withFields({light_timer:new _(s),players:(()=>{if(tr(s)){let u=e.players;return v(u,c=>c.withFields({light_bearer:!1}))}else return e.players})()}),rr()]}}else{if(t instanceof ot)return[e.withFields({light_timer:new _(nr())}),e.light_timer instanceof k?rr():A()];if(t instanceof Ut)return[e.withFields({light_timer:new k,players:(()=>{let n=e.players;return v(n,r=>r.withFields({light_bearer:!1}))})()}),A()];if(t instanceof Ft)return[Pt(e),A()];if(t instanceof It){let n=t[0],r=Ee(e.players,i=>i.id!==n.id);return[e.withFields({players:r}),A()]}else if(t instanceof qt){let n=t[0],r=t[1];return[ie(n.withFields({name:r}),e),A()]}else if(t instanceof Rt){let n=t[0],r=!n.light_bearer,i=(()=>{let u=e.light_timer;return r&&u instanceof k?[e.withFields({light_timer:new _(nr())}),rr()]:r&&u instanceof _&&u[0]instanceof Q?[e.withFields({light_timer:new _(nr())}),A()]:[e,A()]})(),s=i[0],o=i[1];return[ie(n.withFields({light_bearer:r}),s),o]}else if(t instanceof Ht){let n=t[0];return[ie(n.withFields({focusing:!n.focusing}),e),A()]}else if(t instanceof Jt){let n=t[0];return[ie(n.withFields({light_bearer:!1,focusing:!1,dying:!n.dying}),e),A()]}else if(t instanceof Wt){let n=t[0],r=t[1];return[ie(n.withFields({round_timers:h(Ui(e,r),n.round_timers)}),e),A()]}else if(t instanceof Zt){let n=t[0];return[e.withFields({gm_round_timers:h(Ui(e,n),e.gm_round_timers)}),A()]}else if(t instanceof Bt){let n=(()=>{let i=e.turn;if(i instanceof ue){let s=e.players;if(s.atLeastLength(1)){let o=s.head;return new ze(o)}else return new ue}else{let s=i.player,o=Or(e.players,u=>u.id!==s.id);if(o.atLeastLength(2)){let u=o.tail.head;return new ze(u)}else return new ue}})();return[(()=>{if(n instanceof ue)return e.withFields({gm_round_timers:v(e.gm_round_timers,it),random_encounter_timer:Ii(e.random_encounter_timer)});{let i=n.player;return ie(i.withFields({round_timers:v(i.round_timers,it)}),e)}})().withFields({turn:n}),A()]}else if(t instanceof Dt){let n=t[0];return[e.withFields({turn:n}),A()]}else{if(t instanceof Gt)return[e.withFields({editing:!e.editing}),A()];if(t instanceof Kt){let n=t[0],r=t[1];return[ie(n.withFields({round_timers:Ee(n.round_timers,i=>i.id!==r.id)}),e),A()]}else if(t instanceof Vt){let n=t[0],r=t[1];return[ie(n.withFields({round_timers:Nt(n.round_timers,it(r))}),e),A()]}else if(t instanceof Yt){let n=t[0],r=t[1];return[ie(n.withFields({round_timers:Nt(n.round_timers,Xn(r))}),e),A()]}else if(t instanceof Xt){let n=t[0];return[e.withFields({gm_round_timers:Ee(e.gm_round_timers,r=>r.id!==n.id)}),A()]}else if(t instanceof Qt){let n=t[0];return[e.withFields({gm_round_timers:Nt(e.gm_round_timers,it(n))}),A()]}else if(t instanceof en){let n=t[0];return[e.withFields({gm_round_timers:Nt(e.gm_round_timers,Xn(n))}),A()]}else{let n=t[0];return[e.withFields({risk_level:n,random_encounter_timer:Ki(n)}),A()]}}}}function Go(e){return e instanceof ye?"Unsafe":e instanceof st?"Risky":"Deadly"}function ir(e,t){return j(l([T(new ar(e)),w(b(t.risk_level,e)?"selected":"unselected")]),l([$(Go(e))]))}function sr(e,t){let n=Bi(e.random_encounter_timer),r=Di(e.random_encounter_timer),i=n===t,s=r<t;return i?"current":!i&&s?"disabled":"just-whatever"}function Ro(e){let t=e.light_timer;if(t instanceof k)return g(l([J("light-timer")]),l([j(l([T(new ot)]),l([$("Start Light Timer")]))]));{let n=t[0];return g(l([J("light-timer"),w(tr(n)?"expired":"running")]),l([g(l([w("button-row")]),l([j(l([T(new Ut)]),l([$("Clear")])),j(l([T(new ot)]),l([$("Restart")]))])),g(l([w("description")]),l([g(l([]),l([$(Ji(n))]))]))]))}}function Ho(e,t){return g(l([w("timer"),w(Gi(t)?"expired":"running")]),l([g(l([w("description")]),l([g(l([]),l([$((()=>{let n=t.rounds_remaining;return z(n)})()),$(" / "),$((()=>{let n=t.rounds_total;return z(n)})())]))])),g(l([w("button-row")]),l([j(l([T(e.inc(t)),le("add 1 round")]),l([$("+")])),j(l([T(e.dec(t)),le("subtract 1 round")]),l([$("-")])),j(l([T(e.remove(t)),le("remove timer")]),l([$("X")]))]))]))}function Vi(e,t){return g(l([w("round-timers")]),h(g(l([w("button-row")]),l([j(l([T(e.add(1))]),l([$("\u23F2\uFE0F1")])),j(l([T(e.add(5))]),l([$("\u23F2\uFE0F5")])),j(l([T(e.add(10))]),l([$("\u23F2\uFE0F10")]))])),v(t,r=>Ho(e,r))))}function Wi(e){return v(e.players,t=>{let n=l(["player"]),r=(()=>{let u=e.turn;if(u instanceof ze&&u.player.id===t.id){let c=u.player;return h("current-turn",n)}else return n})(),i=t.focusing?h("focusing",r):r,s=t.light_bearer?h("light-bearer",i):i,o=t.dying?h("dying",s):s;return g(v(o,w),l([g(l([w("name")]),l([e.editing?zi(l([Oi("text"),Ei(t.name),qi(c=>new qt(t,c))])):g(l([T(new Dt(new ze(t))),Li(l([["cursor","pointer"]])),le("Jump current turn")]),l([$(t.name)]))])),g(l([w("button-row"),w("primary-toggles")]),l([j(l([w("light-bearer"),le(t.light_bearer?"Light-Bearer":"Not carrying a light"),T(new Rt(t))]),l([$("\u{1F525}")])),j(l([w("focusing"),le(t.focusing?"Focusing":"Not focusing"),T(new Ht(t))]),l([$("\u{1F4AD}")])),j(l([w("dying"),le(t.dying?"Dying":"Not dying"),T(new Jt(t))]),l([$("\u{1F480}")]))])),Vi(new tn(u=>new Wt(t,u),u=>new Yt(t,u),u=>new Vt(t,u),u=>new Kt(t,u)),t.round_timers),e.editing?j(l([T(new It(t))]),l([$("Remove")])):$("")]))})}function Jo(e){let t=e.turn instanceof ue?l([w("current-turn")]):l([]);return g(h(J("gm-bar"),t),l([g(l([J("random-encounter-timer")]),l([g(l([w("button-row")]),l([ir(new ye,e),ir(new st,e),ir(new ur,e)])),g(l([w("indicator")]),l([g(l([w("item"),w(sr(e,2))]),l([$("\u25CF")])),g(l([w("item"),w(sr(e,1))]),l([$("\u25CF")])),g(l([J("random-encounter-now"),w("item"),w(sr(e,0))]),l([$("\u{1F3B2}")]))]))])),Vi(new tn(n=>new Zt(n),n=>new en(n),n=>new Qt(n),n=>new Xt(n)),e.gm_round_timers),Ro(e),g(l([J("big-buttons")]),l([j(l([J("toggle-edit"),T(new Gt)]),l([$("Toggle Editing")])),j(l([J("next-turn"),T(new Bt)]),l([$("Next Turn")]))]))]))}function Uo(){return g(l([J("footer")]),l([$("Made with \u{1FA78} by John D. Hume, "),Kn(l([Bn("https://www.duelinmarkers.com/")]),l([$("duelinmarkers.com")])),$(", "),Kn(l([Bn("https://hachyderm.io/@duelinmarkers")]),l([$("hachyderm.io/@duelinmarkers")])),$(".")]))}function Wo(e){return g(l([J("main")]),l([g(l([J("players")]),e.editing?se(Wi(e),l([j(l([T(new Ft)]),l([$("Add Player")]))])):Wi(e)),Jo(e),Uo()]))}function Yi(){let e=Ni(Bo,Do,Wo),t=Pi(e,"#app",void 0);if(!t.isOk())throw Le("let_assert","app",18,"main","Pattern match failed, no pattern matched the value.",{value:t})}Yi();
